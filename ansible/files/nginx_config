server {
    index index.html index.htm;

    server_name app.perdiem.me;

    client_max_body_size 25M;

    # pass all requests to Meteor
    location / {
        proxy_pass http://127.0.0.1:3001;

        # this setting allows the browser to cache the application in a way compatible with Meteor
              # on every applicaiton update the name of CSS and JS file is different, so they can be cache infinitely (here: 30 days)
        # the root path (/) MUST NOT be cached
        if ($uri != '/') {
            expires 30d;
        }
    }
}